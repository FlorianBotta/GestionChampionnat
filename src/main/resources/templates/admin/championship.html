<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Gestion des championnats - Admin</title>
    <link rel="stylesheet" href="admin-championships.css" />
</head>
<body>
<div class="container">
    <h1>Gestion des championnats</h1>
    <button class="add-championship" onclick="window.location.href='admin-championship-form.html'">‚ûï Ajouter un championnat</button>

    <table>
        <thead>
        <tr>
            <th>Nom</th>
            <th>Logo</th>
            <th>Date d√©but</th>
            <th>Date fin</th>
            <th>Points victoire</th>
            <th>Points d√©faite</th>
            <th>Points match nul</th>
            <th>Type classement</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody id="championships-table-body">
        <!-- Rempli par JS -->
        </tbody>
    </table>
</div>

<script>
    // Exemple de donn√©es - √† remplacer par backend
    const championships = [
        {
            id: 1,
            name: "Ligue 1",
            logo: "ligue1.png",
            startDate: "2024-08-10",
            endDate: "2025-05-20",
            wonPoint: 3,
            lostPoint: 0,
            drawPoint: 1,
            typeRanking: "Points"
        },
        {
            id: 2,
            name: "Coupe de France",
            logo: "cdf.png",
            startDate: "2024-09-01",
            endDate: "2025-04-15",
            wonPoint: 3,
            lostPoint: 0,
            drawPoint: 1,
            typeRanking: "√âlimination directe"
        }
    ];

    const tbody = document.getElementById('championships-table-body');

    function createRow(championship) {
        const tr = document.createElement('tr');
        tr.innerHTML = `
        <td>${championship.name}</td>
        <td><img src="${championship.logo}" alt="${championship.name} logo" class="logo-img"/></td>
        <td>${championship.startDate}</td>
        <td>${championship.endDate}</td>
        <td>${championship.wonPoint}</td>
        <td>${championship.lostPoint}</td>
        <td>${championship.drawPoint}</td>
        <td>${championship.typeRanking}</td>
        <td class="actions">
          <button class="edit" onclick="editChampionship(${championship.id})">‚úèÔ∏è Modifier</button>
          <button class="delete" onclick="deleteChampionship(${championship.id})">üóëÔ∏è Supprimer</button>
        </td>
      `;
        return tr;
    }

    function loadChampionships() {
        tbody.innerHTML = '';
        championships.forEach(champ => {
            tbody.appendChild(createRow(champ));
        });
    }

    function editChampionship(id) {
        window.location.href = `admin-championship-form.html?id=${id}`;
    }

    function deleteChampionship(id) {
        if (confirm("Voulez-vous vraiment supprimer ce championnat ?")) {
            const index = championships.findIndex(c => c.id === id);
            if (index !== -1) {
                championships.splice(index, 1);
                loadChampionships();
                alert("Championnat supprim√© !");
            }
        }
    }

    loadChampionships();
</script>
</body>
</html>